<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
  <title>myphoto gallery</title>
  <script src="./assets/jquery.min.js" type="text/javascript"></script>
  <link href="./assets/nanogallery2.min.css" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="./assets/jquery.nanogallery2.min.js"></script>
  <style>body { margin: 0; background: #0b0b0b; color: #eee; font-family: sans-serif; }</style>
</head>
<body>
  <div id="nanogallery"></div>
  <script>
    fetch('index.json')
      .then(response => {
        if (!response.ok) {
          throw new Error('Failed to load gallery data');
        }
        return response.json();
      })
      .then(items => {
        jQuery('#nanogallery').nanogallery2({
          items: items.map(it => (Object.assign({
            src: it.src,
            title: it.caption,
            tags: (it.tags || []).join(' ')
          }, it.srct ? { srct: it.srct } : {}))),
          galleryFilterTags: true,
          galleryFilterTagsMode: 'multiple',
          thumbnailHeight: 250, thumbnailWidth: 250,
          thumbnailAlignment: 'fillWidth',
          galleryDisplayMode: 'fullContent',
          gallerySorting: 'random',
          thumbnailGutterWidth: 10, thumbnailGutterHeight: 10,
          thumbnailBorderHorizontal: 2, thumbnailBorderVertical: 2,
          galleryDisplayTransitionDuration: 1000,
          thumbnailDisplayTransition: 'slideRight',
          thumbnailDisplayTransitionDuration: 300,
          thumbnailDisplayInterval: 150,
          thumbnailDisplayOrder: 'colFromRight',
          thumbnailLabel: { display: true, position:'onBottomOverImage', hideIcons: true, titleFontSize: '1em', align: 'left', titleMultiLine:true, displayDescription: false},
          thumbnailToolbarImage: null,
          thumbnailToolbarAlbum: null,
          thumbnailHoverEffect2: 'label_font-size_1em_1.5em|title_backgroundColor_rgba(255,255,255,0.34)_rgba(((35,203,153,0.8)|title_color_#000_#fff|image_scale_1.00_1.10_5000|image_rotateZ_0deg_4deg_5000',
          touchAnimation: true,
          touchAutoOpenDelay: 800,
          galleryTheme : {
            thumbnail: { titleShadow : 'none', titleColor: '#fff', borderColor: '#fff' },
            navigationBreadcrumb: { background : '#3C4B5B' },
            navigationFilter: { background : '#003C3F', backgroundSelected: '#2E7C7F', color: '#fff' }
          },
          locationHash: false
        });
      })
      .catch(err => {
        console.error('Error initializing gallery', err);
        document.getElementById('nanogallery').innerHTML = '<p style="padding: 16px; color: #fff;">Failed to load gallery data.</p>';
      });
  </script>
</body>
</html>
